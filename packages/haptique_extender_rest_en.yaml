# Haptique Extender - REST COMMANDS
# Place this file in: /config/packages/haptique_extender_rest.yaml

# ============================================
# REST COMMANDS - Firmware API Integration
# ============================================

rest_command:
  # Save last captured IR code to firmware
  haptique_save_ir_to_device:
    url: "http://{{ states.sensor.haptique_extender_wifi_ip.state }}/api/ir/save"
    method: POST
    headers:
      Authorization: "Bearer {{ state_attr('sensor.haptique_extender_firmware_version', 'token') | default('') }}"
      Content-Type: "application/json"
    payload: '{"name": "{{ name }}"}'
    content_type: "application/json"
